<div *ngIf="exhibition" class="container-fluid pb-5 pl-0 pr-0 justify-content-center">
    <div *ngIf="exhibition.cover" class="card w-100">
        <img class="card-img img-fluid w-100" style="height:88vh; object-fit: cover;"src="{{exhibition.cover.identifier}}"/>
        <div class="card-img-overlay p-0">
            <div class="row w-100 justify-content-center" style="margin-top: 44vh;">
                <div style="color:white" class="col-auto mx-auto"><h6><img (click)="openDetails()"  src="../../../../../assets/icons/info.svg"/>{{exhibition.cover.title}}</h6></div>
            </div>
            <div class="container-fluid w-100 m-0" style="background-color: white; opacity: 0.7; height: 44vh;">
                <div class="row justify-content-center pt-5" >
                    <div class="col-auto">
                        <h1 class="title credits-title" >{{exhibition.title}}</h1>
                    </div>
                </div>
                <div class="row justify-content-center" >
                    <div class="col-6 px-5 ">
                        <h4 class="title" style="text-align: center;">{{exhibition.subtitle}} </h4>
                        <h6 class="title" style="text-align: center;">Equipa de Investigação da Infraestrutura ROSSIO</h6>
                        <h6 class="title" style="text-align: center;">Tempo de leitura {{exhibition.estimatedViewingTime}} min</h6>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row w-100 mx-0">
        <!-- <div class="col-auto mr-auto mt-3">
            <img src="https://www.fillmurray.com/30/30"/>
        </div> -->
        <div class="col-auto mx-auto">
            <div class="row w-100 mx-auto  mt-3">
                <div class="col-auto">
                    <img style="width: 30px;" (click)="changeSelectedContent(0)" src="../../../../../assets/icons/bt_sections_default.svg"/>
                </div>
                <div class="col-auto">
                    <!-- <img style="width: 30px;" (click)="changeSelectedContent(1)" src="../../../../../assets/icons/bt_mapa_default.svg"/> -->
                    <svg width="30px" (click)="changeSelectedContent(1)" id="Camada_1" data-name="Camada 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23"><defs><style>.cls-1{fill:#353a3f;fill-rule:evenodd;}</style></defs><path id="Path_3079" data-name="Path 3079" class="cls-1" d="M11.51,2.75A3.75,3.75,0,1,0,15.26,6.5h0A3.75,3.75,0,0,0,11.51,2.75Zm-5,3.75a5,5,0,1,1,5.62,5v6.92a.63.63,0,0,1-1.25,0V11.46a5,5,0,0,1-4.37-5ZM9.63,17.22a.62.62,0,0,1-.52.71A7.17,7.17,0,0,0,7,18.55a1.5,1.5,0,0,0-.46.33.41.41,0,0,0-.07.11h0s0,0,0,.05a.77.77,0,0,0,.18.18,3.46,3.46,0,0,0,1,.5,12.37,12.37,0,0,0,3.78.51,12.41,12.41,0,0,0,3.78-.51,3.53,3.53,0,0,0,1-.5.62.62,0,0,0,.18-.18s0,0,0-.05h0a.26.26,0,0,0-.07-.11,1.5,1.5,0,0,0-.46-.33,6.77,6.77,0,0,0-2.07-.61.63.63,0,0,1-.53-.71.61.61,0,0,1,.7-.53h0a8.31,8.31,0,0,1,2.44.74A1.91,1.91,0,0,1,17.75,19a1.55,1.55,0,0,1-.68,1.22,4.49,4.49,0,0,1-1.4.7,13.69,13.69,0,0,1-4.17.58,13.75,13.75,0,0,1-4.18-.58,4.55,4.55,0,0,1-1.39-.7A1.55,1.55,0,0,1,5.25,19a1.91,1.91,0,0,1,1.2-1.56,8.31,8.31,0,0,1,2.44-.74.63.63,0,0,1,.73.5Z"/></svg>
                </div>
                <div class="col-auto">
                    <img style="width: 30px;" (click)="changeSelectedContent(2)" src="../../../../../assets/icons/bt_bibliografia_default.svg"/>
                </div>
                <div class="col-auto">
                    <img style="width: 30px;" (click)="changeSelectedContent(3)" src="../../../../../assets/icons/bt_ficha_tecnica_default.svg"/>
                </div>
     
            </div>
        </div>
        <!-- <div class="col-auto ml-auto mt-3">
            <img src="https://www.fillmurray.com/30/30"/>
        </div> -->
    </div>
   

    <div>
        <div [ngSwitch]="selectedContent">
            <div *ngSwitchCase ="0">
                <div class="row justify-content-center mx-auto align-items-center text-align-center mt-5 px-3">
                    <div *ngFor="let item of exhibitionItems;let i=index;" (click)="changeSection(i)" [ngClass]="selectedSection == i ? 'section-active' : ''" class="section col-auto  mx-2 my-2">
                        <h6>{{i+1}}. {{item.title}}</h6>
                    </div>
                </div>
                <div *ngIf="exhibitionItems.length > 0" style="text-align: center;" class="text-align-center justify-content-center mt-5">
                    <h3  class="title m-5" >{{exhibitionItems[selectedSection].title}}</h3>
                    <div *ngFor="let subitem of exhibitionSubItems">
                        <div [ngSwitch]="subitem.itemType">
                            <div *ngSwitchCase = "'textresource'">
                                <div class="row pr-5 pl-5 mx-5">
                                    <div class="col">
                                        <div class="text pt-3" *ngFor="let textitem of subitem.textSections">
                                            <div [innerHTML]="textitem"></div>
                                        </div>
                                    </div>
                                    <div class="col-5">
                                        <div *ngFor="let resource of subitem.digitalResources">
                                            <img class="img-fluid w-100" (click)="open()" src="{{resource.identifier}}"/>
                                            <h6 style="text-align: left;">{{resource.dataProvider}} - {{resource.title}}</h6>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div *ngSwitchCase = "'resourcetext'">
                                <div class="row pr-5 pl-5 mx-5">
                                    <div class="col-5">
                                        <div *ngFor="let resource of subitem.digitalResources">
                                            <img class="img-fluid w-100" (click)="open()" src="{{resource.identifier}}"/>
                                            <h6 style="text-align: left;">{{resource.dataProvider}} - {{resource.title}}</h6>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="text pt-3" *ngFor="let textitem of subitem.textSections">
                                            <div [innerHTML]="textitem"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div *ngSwitchCase = "'resourceresource'">
                                <div class="row pr-5 pl-5 mx-5">
                                    <div class="col-6">
                                        <div *ngFor="let resource of subitem.digitalResources">
                                            <img class="img-fluid w-100" (click)="open()" src="{{resource.identifier}}"/>
                                            <h6 style="text-align: left;">{{resource.dataProvider}} - {{resource.title}}</h6>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div *ngFor="let resource of subitem.digitalResources">
                                            <img class="img-fluid w-100" (click)="open()" src="{{resource.identifier}}"/>
                                            <h6 style="text-align: left;">{{resource.dataProvider}} - {{resource.title}}</h6>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div *ngSwitchCase = "'resource'">
                                <div class="row pr-5 pl-5 mx-5 justify-content-center">
                                    <div class="col-12">
                                        <div *ngFor="let resource of subitem.digitalResources">
                                            <div class="image-container">
                                                <img class="w-100" (click)="open()" src="{{resource.identifier}}"/>
                                                <div class="overlay">
                                                    <img height="40px" width="40px" src="../../../../../assets/icons/info.svg"/>   
                                                </div>
                                            </div>
                                            <h6>{{resource.dataProvider}} - {{resource.title}}</h6>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div *ngSwitchCase = "'resourcefull'">
                                <div class="row">
                                    <div class="col-12">
                                        <div *ngFor="let resource of subitem.digitalResources">
                                            <img class="img-fluid w-100" (click)="open()" src="{{resource.identifier}}"/>
                                            <h6 style="text-align: left;">{{resource.dataProvider}} - {{resource.title}}</h6>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div *ngSwitchCase = "'texttext'">
                                <div class="row pr-5 pl-5 mx-5">
                                    <div class="col" *ngFor="let textitem of subitem.textSections">
                                        <div class="text pt-3">
                                            <div [innerHTML]="textitem"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
            
                </div>
                <div class="row justify-content-center mx-auto align-items-center text-align-center mt-5">
                    <div class="col-auto section" (click)="changeSection(selectedSection+1)">
                        <h6>Seguinte</h6>
                    </div>
                </div>
                <div class="row m-5 justify-content-center mx-auto align-items-center text-align-center">
                    <h3  class="title" >Outras Exposições</h3>
                </div>
                <div class="row justify-content-center mx-auto align-items-center text-align-center">
                    <div *ngFor="let exhibition of exhibitions" class="col-auto">
                        <app-exhibition-card [exhibition]="exhibition"></app-exhibition-card>
                    </div>
                </div>
            </div>
            <div *ngSwitchCase = "1">
                <div class="row mt-5">
                    <div class="col-auto mx-auto">
                        <h1 class="title credits-title" >{{exhibition.title}}</h1>
                        <h4 class="title" style="text-align: center;">Mapa</h4>
                    </div>
                </div>
                <div class="container">
                    <app-map [exhibition]="exhibition"></app-map>
                </div>
            
            </div>
            <div *ngSwitchCase = "2">
                <div class="row mt-5">
                    <div class="col-auto mx-auto">
                        <h1 class="title credits-title" >{{exhibition.title}}</h1>
                        <h4 class="title" style="text-align: center;">Bibliografia Consultada</h4>
                    </div>
                </div>
                <div class="row justify-content-center mx-auto align-items-center text-align-center mt-5">
                    <div [ngClass]="selectedAuxiliaryMaterial == 0 ? 'section-active' : ''" (click)="changeSelectedAuxiliaryMaterial(0)" class="section col-auto my-auto mx-2">
                        <h6>RECURSOS ON-LINE NOVA FCSH</h6>
                    </div>
                    <div [ngClass]="selectedAuxiliaryMaterial == 1 ? 'section-active' : ''" (click)="changeSelectedAuxiliaryMaterial(1)" class="section col-auto my-auto mx-2">
                        <h6>BIBLIOGRAFIA</h6>
                    </div>
                    <div [ngClass]="selectedAuxiliaryMaterial == 2 ? 'section-active' : ''" (click)="changeSelectedAuxiliaryMaterial(2)" class="section col-auto my-auto mx-2">
                        <h6>RECURSOS AUDIOVISUAIS</h6>
                    </div>
                    <div [ngClass]="selectedAuxiliaryMaterial == 3 ? 'section-active' : ''" (click)="changeSelectedAuxiliaryMaterial(3)" class="section col-auto my-auto mx-2">
                        <h6>SÍTIOS NA INTERNET</h6>
                    </div>
                </div>
                <div  [ngSwitch]="selectedAuxiliaryMaterial" class="row justify-content-center mt-5">
                    <div *ngSwitchCase = "0" class="col-8">
                        <div [innerHTML]="exhibition.onlineResourcesNova"></div>
                    </div>
                    <div *ngSwitchCase = "1" class="col-8">
                        <div [innerHTML]="exhibition.bibliography"></div>
                    </div>
                    <div *ngSwitchCase = "2" class="col-8">
                        <div [innerHTML]="exhibition.audiovisualResources"></div>
                    </div>
                    <div *ngSwitchCase = "3" class="col-8">
                        <div [innerHTML]="exhibition.webPlaces"></div>
                    </div>
                </div>
            </div>
            <div *ngSwitchCase = "3">
                <div class="row mt-5">
                    <div class="col-auto mx-auto">
                        <h1 class="title credits-title" >{{exhibition.title}}</h1>
                        <h4 class="title" style="text-align: center;">Ficha Técnica</h4>
                    </div>
                </div>
                <div class="row justify-content-center mt-5">
                    <div class="col-8">
                        <div [innerHTML]="exhibition.credits"></div>
                    </div>
                </div>

                
            </div>
            
        </div>
    </div>
</div>